#!/bin/sh -e

text="$1"
bg="#2421AB"

convert -size 2160x1080 xc:$bg /tmp/bg.png

convert -size 2160x1080 xc:"#00000000" \
  -pointsize 100 -fill white -draw 'text 100,160 "Blog Post" ' \
  /tmp/text-top.png

convert -size 2160x1080 xc:"#00000000" \
  -font ./src/fonts/acta-headline-extra-bold.woff \
  -pointsize 165 -fill white -draw "text 100,925 '$text' " \
  /tmp/text-bottom.png

convert \
  -page +0+0 /tmp/bg.png \
  -page +0+0 /tmp/text-top.png \
  -page +0+0 /tmp/text-bottom.png \
  -layers merge +repage banner.png
